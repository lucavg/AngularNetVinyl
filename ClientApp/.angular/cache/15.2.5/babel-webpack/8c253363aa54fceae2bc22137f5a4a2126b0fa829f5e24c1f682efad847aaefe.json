{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function () {\n  return [\"/login\"];\n};\nexport class RegisterComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.email = '';\n    this.username = '';\n    this.password = '';\n    this.confirmPassword = '';\n  }\n  register() {\n    if (this.password !== this.confirmPassword) {\n      console.log(\"Passwords don't match\");\n      return;\n    }\n    const registerData = {\n      Email: this.email,\n      Username: this.username,\n      Password: this.password,\n      ConfirmPassword: this.confirmPassword\n    };\n    try {\n      this.authService.register(registerData).subscribe({\n        next: () => {\n          const loginData = {\n            Email: this.email,\n            Password: this.password\n          };\n          this.authService.login(loginData).subscribe({\n            next: response => {},\n            error: () => {}\n          });\n        },\n        error: () => {\n          console.log('Registration failed');\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 26,\n  vars: 6,\n  consts: [[1, \"flex\", \"items-center\", \"justify-center\"], [1, \"w-full\", \"max-w-md\"], [1, \"text-2xl\", \"font-bold\", \"text-center\", \"mb-4\"], [1, \"bg-white\", \"shadow-md\", \"rounded\", \"px-8\", \"pt-6\", \"pb-8\", \"mb-4\"], [1, \"mb-4\"], [\"for\", \"email\", 1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"id\", \"email\", \"type\", \"email\", \"placeholder\", \"Enter your email\", \"name\", \"email\", \"required\", \"\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"username\", 1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"id\", \"username\", \"type\", \"text\", \"placeholder\", \"Choose a username\", \"name\", \"username\", \"required\", \"\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\", 1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"id\", \"password\", \"type\", \"password\", \"placeholder\", \"Enter your password\", \"name\", \"password\", \"required\", \"\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"confirmPassword\", 1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"id\", \"confirmPassword\", \"type\", \"password\", \"placeholder\", \"Confirm your password\", \"name\", \"confirmPassword\", \"required\", \"\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"items-center\", \"justify-between\"], [\"type\", \"submit\", 1, \"bg-blue-500\", \"hover:bg-blue-700\", \"text-white\", \"font-bold\", \"py-2\", \"px-4\", \"rounded\", \"focus:outline-none\", \"focus:shadow-outline\", 3, \"click\"], [1, \"inline-block\", \"align-baseline\", \"font-bold\", \"text-sm\", \"text-blue-500\", \"hover:text-blue-800\", 3, \"routerLink\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 3)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \" Email \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 7);\n      i0.ɵɵtext(11, \" Username \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 9);\n      i0.ɵɵtext(15, \" Password \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 4)(18, \"label\", 11);\n      i0.ɵɵtext(19, \" Confirm Password \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.confirmPassword = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 13)(22, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_22_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵtext(23, \" Register \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"a\", 15);\n      i0.ɵɵtext(25, \" Already have an account? Login \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.confirmPassword);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c0));\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i2.RouterLink],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;AAWA,OAAM,MAAOA,iBAAiB;EAM5BC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAL5D,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAW,EAAE;IACrB,aAAQ,GAAW,EAAE;IACrB,oBAAe,GAAW,EAAE;EAE2C;EAEvEC,QAAQ;IACN,IAAI,IAAI,CAACC,QAAQ,KAAK,IAAI,CAACC,eAAe,EAAE;MAC1CC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC;;IAGF,MAAMC,YAAY,GAAoB;MACpCC,KAAK,EAAE,IAAI,CAACC,KAAK;MACjBC,QAAQ,EAAE,IAAI,CAACC,QAAQ;MACvBC,QAAQ,EAAE,IAAI,CAACT,QAAQ;MACvBU,eAAe,EAAE,IAAI,CAACT;KACvB;IAED,IAAI;MACF,IAAI,CAACJ,WAAW,CAACE,QAAQ,CAACK,YAAY,CAAC,CAACO,SAAS,CAAC;QAChDC,IAAI,EAAE,MAAK;UACT,MAAMC,SAAS,GAAiB;YAC9BR,KAAK,EAAE,IAAI,CAACC,KAAK;YACjBG,QAAQ,EAAE,IAAI,CAACT;WAChB;UACD,IAAI,CAACH,WAAW,CAACiB,KAAK,CAACD,SAAS,CAAC,CAACF,SAAS,CAAC;YAC1CC,IAAI,EAAGG,QAA0B,IAAI,CAAE,CAAC;YACxCC,KAAK,EAAE,MAAK,CAAE;WACf,CAAC;QACJ,CAAC;QACDA,KAAK,EAAE,MAAK;UACVd,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;QACpC;OACD,CAAC;KACH,CAAC,OAAOa,KAAK,EAAE;MACdd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;;EAEtB;;AAxCWrB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX9BC,8BAA8C;MAEMA,wBAAQ;MAAAA,iBAAK;MAC7DA,+BAA6D;MAGvDA,uBACF;MAAAA,iBAAQ;MACRA,gCAQE;MAHAA;QAAA;MAAA,EAAmB;MALrBA,iBAQE;MAEJA,8BAAkB;MAEdA,2BACF;MAAAA,iBAAQ;MACRA,iCAQE;MAHAA;QAAA;MAAA,EAAsB;MALxBA,iBAQE;MAEJA,+BAAkB;MAEdA,2BACF;MAAAA,iBAAQ;MACRA,kCAQE;MAHAA;QAAA;MAAA,EAAsB;MALxBA,iBAQE;MAEJA,+BAAkB;MAEdA,mCACF;MAAAA,iBAAQ;MACRA,kCAQE;MAHAA;QAAA;MAAA,EAA6B;MAL/BA,iBAQE;MAEJA,gCAA+C;MAI3CA;QAAA,OAASC,cAAU;MAAA,EAAC;MAEpBD,2BACF;MAAAA,iBAAS;MACTA,8BAGC;MACCA,iDACF;MAAAA,iBAAI;;;MA5DFA,eAAmB;MAAnBA,mCAAmB;MAcnBA,eAAsB;MAAtBA,sCAAsB;MActBA,eAAsB;MAAtBA,sCAAsB;MActBA,eAA6B;MAA7BA,6CAA6B;MAe7BA,eAAyB;MAAzBA,uDAAyB","names":["RegisterComponent","constructor","authService","router","register","password","confirmPassword","console","log","registerData","Email","email","Username","username","Password","ConfirmPassword","subscribe","next","loginData","login","response","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\AngularNetVinyl\\ClientApp\\src\\app\\register\\register.component.ts","D:\\AngularNetVinyl\\ClientApp\\src\\app\\register\\register.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { RegisterRequest } from '../interfaces/RegisterRequest';\r\nimport { LoginRequest } from '../interfaces/LoginRequest';\r\nimport { RegisterResponse } from '../interfaces/RegisterResponse';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n})\r\nexport class RegisterComponent {\r\n  email: string = '';\r\n  username: string = '';\r\n  password: string = '';\r\n  confirmPassword: string = '';\r\n\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n\r\n  register() {\r\n    if (this.password !== this.confirmPassword) {\r\n      console.log(\"Passwords don't match\");\r\n      return;\r\n    }\r\n\r\n    const registerData: RegisterRequest = {\r\n      Email: this.email,\r\n      Username: this.username,\r\n      Password: this.password,\r\n      ConfirmPassword: this.confirmPassword,\r\n    };\r\n\r\n    try {\r\n      this.authService.register(registerData).subscribe({\r\n        next: () => {\r\n          const loginData: LoginRequest = {\r\n            Email: this.email,\r\n            Password: this.password,\r\n          };\r\n          this.authService.login(loginData).subscribe({\r\n            next: (response: RegisterResponse) => {},\r\n            error: () => {},\r\n          });\r\n        },\r\n        error: () => {\r\n          console.log('Registration failed');\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n","<div class=\"flex items-center justify-center\">\r\n  <div class=\"w-full max-w-md\">\r\n    <h1 class=\"text-2xl font-bold text-center mb-4\">Register</h1>\r\n    <form class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n      <div class=\"mb-4\">\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"email\">\r\n          Email\r\n        </label>\r\n        <input\r\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Enter your email\"\r\n          [(ngModel)]=\"email\"\r\n          name=\"email\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"mb-4\">\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">\r\n          Username\r\n        </label>\r\n        <input\r\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"Choose a username\"\r\n          [(ngModel)]=\"username\"\r\n          name=\"username\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"mb-4\">\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"password\">\r\n          Password\r\n        </label>\r\n        <input\r\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your password\"\r\n          [(ngModel)]=\"password\"\r\n          name=\"password\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"mb-4\">\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"confirmPassword\">\r\n          Confirm Password\r\n        </label>\r\n        <input\r\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"confirmPassword\"\r\n          type=\"password\"\r\n          placeholder=\"Confirm your password\"\r\n          [(ngModel)]=\"confirmPassword\"\r\n          name=\"confirmPassword\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"flex items-center justify-between\">\r\n        <button\r\n          class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n          type=\"submit\"\r\n          (click)=\"register()\"\r\n        >\r\n          Register\r\n        </button>\r\n        <a\r\n          class=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\"\r\n          [routerLink]=\"['/login']\"\r\n        >\r\n          Already have an account? Login\r\n        </a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}