{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent__svg_svg_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 15);\n    i0.ɵɵelement(1, \"path\", 16)(2, \"path\", 17);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent__svg_svg_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 15);\n    i0.ɵɵelement(1, \"path\", 18)(2, \"path\", 19)(3, \"path\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(authService, router, cdRef) {\n    this.authService = authService;\n    this.router = router;\n    this.cdRef = cdRef;\n    this.email = '';\n    this.password = '';\n    this.showPassword = false;\n  }\n  ngOnInit() {\n    this.loadData();\n    this.searchControl.valueChanges.subscribe(searchTerm => {\n      this.filterAlbums(searchTerm);\n    });\n  }\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n  login() {\n    const loginData = {\n      email: this.email,\n      password: this.password\n    };\n    try {\n      this.authService.login(loginData).subscribe({\n        next: response => {\n          localStorage.setItem('jwt', response.accessToken);\n          localStorage.setItem('username', response.username);\n          localStorage.setItem('userId', response.userId);\n          localStorage.setItem('collectionId', response.collectionId);\n          this.ngOnInit();\n        },\n        error: response => {\n          console.log('Login failed: ' + response.message);\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 20,\n  vars: 5,\n  consts: [[1, \"flex\", \"justify-center\", \"items-center\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-md\", \"p-8\"], [1, \"text-2xl\", \"font-bold\", \"mb-6\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"mb-4\"], [\"for\", \"email\", 1, \"block\", \"text-gray-700\", \"font-bold\", \"mb-2\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded\", \"focus:outline-none\", \"focus:border-indigo-500\", 3, \"ngModel\", \"ngModelChange\"], [1, \"relative\", \"mb-4\"], [\"for\", \"password\", 1, \"block\", \"text-gray-700\", \"font-bold\", \"mb-2\"], [1, \"relative\"], [\"id\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded\", \"focus:outline-none\", \"focus:border-indigo-500\", 3, \"type\", \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"absolute\", \"top-2\", \"right-3\", \"mt-1\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"class\", \"h-6 w-6 text-black hover:text-indigo-500 cursor-pointer\", \"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"bg-indigo-500\", \"hover:bg-indigo-600\", \"text-white\", \"font-bold\", \"py-2\", \"px-4\", \"rounded\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", 1, \"h-6\", \"w-6\", \"text-black\", \"hover:text-indigo-500\", \"cursor-pointer\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 3, 4);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"label\", 6);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 8)(11, \"label\", 9);\n      i0.ɵɵtext(12, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 10)(14, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_15_listener() {\n        return ctx.togglePasswordVisibility();\n      });\n      i0.ɵɵtemplate(16, LoginComponent__svg_svg_16_Template, 3, 0, \"svg\", 13);\n      i0.ɵɵtemplate(17, LoginComponent__svg_svg_17_Template, 4, 0, \"svg\", 13);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"button\", 14);\n      i0.ɵɵtext(19, \" Login \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\")(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.showPassword);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.showPassword);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;IAmCYA,mBAMC;IANDA,+BAMC;IACCA,2BAIE;IAMJA,iBAAM;;;;;IACNA,mBAMC;IANDA,+BAMC;IACCA,2BAIE;IAWJA,iBAAM;;;AChElB,OAAM,MAAOC,cAAc;EAKzBC,YACUC,WAAwB,EACxBC,MAAc,EACdC,KAAwB;IAFxB,gBAAW,GAAXF,WAAW;IACX,WAAM,GAANC,MAAM;IACN,UAAK,GAALC,KAAK;IAPf,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAW,EAAE;IACrB,iBAAY,GAAY,KAAK;EAM1B;EACHC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,aAAa,CAACC,YAAY,CAACC,SAAS,CAAEC,UAAU,IAAI;MACvD,IAAI,CAACC,YAAY,CAACD,UAAW,CAAC;IAChC,CAAC,CAAC;EACJ;EAEAE,wBAAwB;IACtB,IAAI,CAACC,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY;EACxC;EAEAC,KAAK;IACH,MAAMC,SAAS,GAAiB;MAC9BC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,QAAQ,EAAE,IAAI,CAACA;KAChB;IAED,IAAI;MACF,IAAI,CAACf,WAAW,CAACY,KAAK,CAACC,SAAS,CAAC,CAACN,SAAS,CAAC;QAC1CS,IAAI,EAAGC,QAAuB,IAAI;UAChCC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEF,QAAQ,CAACG,WAAW,CAAC;UACjDF,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,QAAQ,CAACI,QAAQ,CAAC;UACnDH,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEF,QAAQ,CAACK,MAAM,CAAC;UAC/CJ,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEF,QAAQ,CAACM,YAAY,CAAC;UAC3D,IAAI,CAACpB,QAAQ,EAAE;QACjB,CAAC;QACDqB,KAAK,EAAGP,QAAQ,IAAI;UAClBQ,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAAGT,QAAQ,CAACU,OAAO,CAAC;QAClD;OACD,CAAC;KACH,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;;EAEtB;;AA3CW1B,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX3BnC,8BAA8C;MAENA,qBAAK;MAAAA,iBAAK;MAC9CA,kCAA+C;MAAzCA;QAAA,OAAYoC,WAAO;MAAA,EAAC;MACxBpC,8BAAkB;MAEbA,qBAAK;MAAAA,iBACP;MACDA,gCAOE;MAFAA;QAAA;MAAA,EAAmB;MALrBA,iBAOE;MAEJA,+BAA2B;MAEtBA,yBAAQ;MAAAA,iBACV;MACDA,gCAAsB;MAMlBA;QAAA;MAAA,EAAsB;MALxBA,iBAOE;MACFA,mCAIC;MADCA;QAAA,OAASoC,8BAA0B;MAAA,EAAC;MAEpCpC,uEAiBM;MACNA,uEAsBM;MACRA,iBAAS;MAGbA,mCAGC;MACCA,wBACF;MAAAA,iBAAS;;;MAvELA,eAAmB;MAAnBA,mCAAmB;MAUjBA,eAA2C;MAA3CA,6DAA2C;MAaxCA,eAAkB;MAAlBA,uCAAkB;MAkBlBA,eAAmB;MAAnBA,wCAAmB","names":["i0","LoginComponent","constructor","authService","router","cdRef","ngOnInit","loadData","searchControl","valueChanges","subscribe","searchTerm","filterAlbums","togglePasswordVisibility","showPassword","login","loginData","email","password","next","response","localStorage","setItem","accessToken","username","userId","collectionId","error","console","log","message","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\AngularNetVinyl\\ClientApp\\src\\app\\login\\login.component.html","D:\\AngularNetVinyl\\ClientApp\\src\\app\\login\\login.component.ts"],"sourcesContent":["<div class=\"flex justify-center items-center\">\r\n  <div class=\"bg-white rounded-lg shadow-md p-8\">\r\n    <h2 class=\"text-2xl font-bold mb-6\">Login</h2>\r\n    <form (ngSubmit)=\"login()\" #loginForm=\"ngForm\">\r\n      <div class=\"mb-4\">\r\n        <label class=\"block text-gray-700 font-bold mb-2\" for=\"email\"\r\n          >Email</label\r\n        >\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          class=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-indigo-500\"\r\n          [(ngModel)]=\"email\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"relative mb-4\">\r\n        <label class=\"block text-gray-700 font-bold mb-2\" for=\"password\"\r\n          >Password</label\r\n        >\r\n        <div class=\"relative\">\r\n          <input\r\n            [type]=\"showPassword ? 'text' : 'password'\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-indigo-500\"\r\n            [(ngModel)]=\"password\"\r\n            required\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            class=\"absolute top-2 right-3 mt-1\"\r\n            (click)=\"togglePasswordVisibility()\"\r\n          >\r\n            <svg\r\n              *ngIf=\"showPassword\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              class=\"h-6 w-6 text-black hover:text-indigo-500 cursor-pointer\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                clip-rule=\"evenodd\"\r\n                d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\"\r\n              />\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                clip-rule=\"evenodd\"\r\n                d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\"\r\n              />\r\n            </svg>\r\n            <svg\r\n              *ngIf=\"!showPassword\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              class=\"h-6 w-6 text-black hover:text-indigo-500 cursor-pointer\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                clip-rule=\"evenodd\"\r\n                d=\"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z\"\r\n              />\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                clip-rule=\"evenodd\"\r\n                d=\"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z\"\r\n              />\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                clip-rule=\"evenodd\"\r\n                d=\"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <button\r\n        type=\"submit\"\r\n        class=\"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded\"\r\n      >\r\n        Login\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { LoginRequest } from '../interfaces/Auth/LoginRequest';\r\nimport { LoginResponse } from '../interfaces/Auth/LoginResponse';\r\nimport { ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginComponent {\r\n  email: string = '';\r\n  password: string = '';\r\n  showPassword: boolean = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.loadData();\r\n    this.searchControl.valueChanges.subscribe((searchTerm) => {\r\n      this.filterAlbums(searchTerm!);\r\n    });\r\n  }\r\n\r\n  togglePasswordVisibility(): void {\r\n    this.showPassword = !this.showPassword;\r\n  }\r\n\r\n  login(): void {\r\n    const loginData: LoginRequest = {\r\n      email: this.email,\r\n      password: this.password,\r\n    };\r\n\r\n    try {\r\n      this.authService.login(loginData).subscribe({\r\n        next: (response: LoginResponse) => {\r\n          localStorage.setItem('jwt', response.accessToken);\r\n          localStorage.setItem('username', response.username);\r\n          localStorage.setItem('userId', response.userId);\r\n          localStorage.setItem('collectionId', response.collectionId);\r\n          this.ngOnInit();\r\n        },\r\n        error: (response) => {\r\n          console.log('Login failed: ' + response.message);\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}